<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for src/entities/priorityPartitionedQueue.ts</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../prettify.css" />
    <link rel="stylesheet" href="../../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../../index.html">all files</a> / <a href="index.html">src/entities/</a> priorityPartitionedQueue.ts
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>61/61</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">90% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>9/10</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>14/14</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>59/59</span>
      </div>
    </div>
  </div>
  <div class='status-line high'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127</td><td class="line-coverage quiet"><span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-yes">41×</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">17×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">18×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">19×</span>
<span class="cline-any cline-yes">19×</span>
<span class="cline-any cline-yes">19×</span>
<span class="cline-any cline-yes">19×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">19×</span>
<span class="cline-any cline-yes">19×</span>
<span class="cline-any cline-yes">19×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">18×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">17×</span>
<span class="cline-any cline-yes">17×</span>
<span class="cline-any cline-yes">22×</span>
<span class="cline-any cline-yes">22×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">17×</span>
<span class="cline-any cline-yes">17×</span>
<span class="cline-any cline-yes">17×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">17×</span>
<span class="cline-any cline-yes">17×</span>
<span class="cline-any cline-yes">17×</span>
<span class="cline-any cline-yes">17×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">22×</span>
<span class="cline-any cline-yes">22×</span>
<span class="cline-any cline-yes">22×</span>
<span class="cline-any cline-yes">22×</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">84×</span>
<span class="cline-any cline-yes">84×</span>
<span class="cline-any cline-yes">50×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">34×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">84×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">50×</span>
<span class="cline-any cline-yes">15×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">35×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">50×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">(function(global){global.wrappers['/home/travis/build/dubious-developments/UnSHACLed/src/entities/priorityPartitionedQueue.ts']=[function(require,module,exports,__dirname,__filename){ "use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Collections = require("typescript-collections");
/**
 * A sequence of queues that are combined in a single queue-like
 * data structure. Each sub-queue is tagged with its own priority
 * and higher-priority queues are preferred over low-priority queues
 * when dequeuing elements.
 */
var PriorityPartitionedQueue = /** @class */ (function () {
    /**
     * Creates a priority-partitioned queue.
     * @param getPriority A function that computes the priority of a value.
     */
    function PriorityPartitionedQueue(getPriority) {
        this.getPriority = getPriority;
        this.count = 0;
        this.subQueues = new Collections.DefaultDictionary(function () { return new Collections.Queue(); });
        this.priorityGen = new PriorityGenerator();
    }
    /**
     * Gets the number of tasks in the queue.
     */
    PriorityPartitionedQueue.prototype.size = function () {
        return this.count;
    };
    /**
     * Tests if this priority-partitioned queue is empty.
     */
    PriorityPartitionedQueue.prototype.isEmpty = function () {
        return this.count === 0;
    };
    /**
     * Adds a value to this priority-partitioned queue.
     */
    PriorityPartitionedQueue.prototype.enqueue = function (value) {
        var priority = this.getPriority(value);
        var subQueue = this.subQueues.getValue(priority);
        <span class="missing-if-branch" title="else path not taken" >E</span>if (subQueue.isEmpty()) {
            this.priorityGen.notifyPriorityExists(priority);
        }
        subQueue.enqueue(value);
        this.count++;
        this.subQueues.setValue(priority, subQueue);
    };
    /**
     * Dequeues an element from this priority-partitioned queue.
     */
    PriorityPartitionedQueue.prototype.dequeue = function () {
        if (this.isEmpty()) {
            return undefined;
        }
        // Pick the next non-empty sub-queue.
        var subQueue;
        do {
            var priority = this.priorityGen.next();
            subQueue = this.subQueues.getValue(priority);
        } while (subQueue.isEmpty());
        // Dequeue an element from the sub-queue.
        var result = subQueue.dequeue();
        this.count--;
        return result;
    };
    return PriorityPartitionedQueue;
}());
exports.PriorityPartitionedQueue = PriorityPartitionedQueue;
/**
 * Generates priorities based on a max priority and a min priority.
 * Higher priorities are picked more often.
 */
var PriorityGenerator = /** @class */ (function () {
    /**
     * Creates a priority generator.
     */
    function PriorityGenerator() {
        this.min = 0;
        this.max = 0;
        this.current = 0;
        this.frontier = 0;
    }
    /**
     * Notifies the priority generator that a particular priority exists.
     * @param priority A priority that will be included in the priorities
     * generated by this generator.
     */
    PriorityGenerator.prototype.notifyPriorityExists = function (priority) {
        this.min = Math.min(this.min, priority);
        var oldMax = this.max;
        this.max = Math.max(this.max, priority);
        if (oldMax !== this.max) {
            this.current = this.max;
            this.frontier = this.max;
        }
    };
    /**
     * Generates the next priority.
     */
    PriorityGenerator.prototype.next = function () {
        var result = this.current;
        if (result &lt;= this.frontier) {
            this.nextFrontier();
        }
        else {
            this.current--;
        }
        return result;
    };
    /**
     * Advances the frontier and sets the next priority to the
     * max element.
     */
    PriorityGenerator.prototype.nextFrontier = function () {
        if (this.frontier &gt; this.min) {
            this.frontier--;
        }
        else {
            this.frontier = this.max;
        }
        this.current = this.max;
    };
    return PriorityGenerator;
}());
exports.PriorityGenerator = PriorityGenerator;
&nbsp;
},'src/entities/priorityPartitionedQueue.ts',{"typescript-collections":"/home/travis/build/dubious-developments/UnSHACLed/node_modules/typescript-collections/dist/lib/index.js","./taskQueue":"/home/travis/build/dubious-developments/UnSHACLed/src/entities/taskQueue.ts"}];})(this);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJpb3JpdHlQYXJ0aXRpb25lZFF1ZXVlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsicHJpb3JpdHlQYXJ0aXRpb25lZFF1ZXVlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsb0RBQXNEO0FBR3REOzs7OztHQUtHO0FBQ0g7SUFpQkk7OztPQUdHO0lBQ0gsa0NBQ29CLFdBQWlDO1FBQWpDLGdCQUFXLEdBQVgsV0FBVyxDQUFzQjtRQUVqRCxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztRQUNmLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxXQUFXLENBQUMsaUJBQWlCLENBQzlDLGNBQU0sT0FBQSxJQUFJLFdBQVcsQ0FBQyxLQUFLLEVBQUssRUFBMUIsQ0FBMEIsQ0FBQyxDQUFDO1FBQ3RDLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxpQkFBaUIsRUFBRSxDQUFDO0lBQy9DLENBQUM7SUFFRDs7T0FFRztJQUNJLHVDQUFJLEdBQVg7UUFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztJQUN0QixDQUFDO0lBRUQ7O09BRUc7SUFDSSwwQ0FBTyxHQUFkO1FBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLEtBQUssQ0FBQyxDQUFDO0lBQzVCLENBQUM7SUFFRDs7T0FFRztJQUNJLDBDQUFPLEdBQWQsVUFBZSxLQUFRO1FBQ25CLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDdkMsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDakQsRUFBRSxDQUFDLENBQUMsUUFBUSxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsQ0FBQztZQUNyQixJQUFJLENBQUMsV0FBVyxDQUFDLG9CQUFvQixDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3BELENBQUM7UUFDRCxRQUFRLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxD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c291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgQ29sbGVjdGlvbnMgZnJvbSBcInR5cGVzY3JpcHQtY29sbGVjdGlvbnNcIjtcbmltcG9ydCB7IFRhc2tRdWV1ZSB9IGZyb20gXCIuL3Rhc2tRdWV1ZVwiO1xuXG4vKipcbiAqIEEgc2VxdWVuY2Ugb2YgcXVldWVzIHRoYXQgYXJlIGNvbWJpbmVkIGluIGEgc2luZ2xlIHF1ZXVlLWxpa2VcbiAqIGRhdGEgc3RydWN0dXJlLiBFYWNoIHN1Yi1xdWV1ZSBpcyB0YWdnZWQgd2l0aCBpdHMgb3duIHByaW9yaXR5XG4gKiBhbmQgaGlnaGVyLXByaW9yaXR5IHF1ZXVlcyBhcmUgcHJlZmVycmVkIG92ZXIgbG93LXByaW9yaXR5IHF1ZXVlc1xuICogd2hlbiBkZXF1ZXVpbmcgZWxlbWVudHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBQcmlvcml0eVBhcnRpdGlvbmVkUXVldWU8VD4gaW1wbGVtZW50cyBUYXNrUXVldWU8VD4ge1xuICAgIC8qKlxuICAgICAqIFRoZSBzdWItcXVldWVzIGluIHRoaXMgcHJpb3JpdHktcGFydGl0aW9uZWQgcXVldWUuIEVhY2ggc3VicXVldWVcbiAgICAgKiBpcyBpbmRleGVkIGJ5IGl0cyBwcmlvcml0eS5cbiAgICAgKi9cbiAgICBwcml2YXRlIHN1YlF1ZXVlczogQ29sbGVjdGlvbnMuRGVmYXVsdERpY3Rpb25hcnk8bnVtYmVyLCBDb2xsZWN0aW9ucy5RdWV1ZTxUPj47XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdG90YWwgbnVtYmVyIG9mIGVsZW1lbnRzIGluIHRoZSBzdWItcXVldWVzLlxuICAgICAqL1xuICAgIHByaXZhdGUgY291bnQ6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIEEgZ2VuZXJhdG9yIHRoYXQgY2hvb3NlcyB3aGljaCBzdWItcXVldWUgaXMgc2VydmljZWQuXG4gICAgICovXG4gICAgcHJpdmF0ZSBwcmlvcml0eUdlbjogUHJpb3JpdHlHZW5lcmF0b3I7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcHJpb3JpdHktcGFydGl0aW9uZWQgcXVldWUuXG4gICAgICogQHBhcmFtIGdldFByaW9yaXR5IEEgZnVuY3Rpb24gdGhhdCBjb21wdXRlcyB0aGUgcHJpb3JpdHkgb2YgYSB2YWx1ZS5cbiAgICAgKi9cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyByZWFkb25seSBnZXRQcmlvcml0eTogKHZhbHVlOiBUKSA9PiBudW1iZXIpIHtcblxuICAgICAgICB0aGlzLmNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5zdWJRdWV1ZXMgPSBuZXcgQ29sbGVjdGlvbnMuRGVmYXVsdERpY3Rpb25hcnk8bnVtYmVyLCBDb2xsZWN0aW9ucy5RdWV1ZTxUPj4oXG4gICAgICAgICAgICAoKSA9PiBuZXcgQ29sbGVjdGlvbnMuUXVldWU8VD4oKSk7XG4gICAgICAgIHRoaXMucHJpb3JpdHlHZW4gPSBuZXcgUHJpb3JpdHlHZW5lcmF0b3IoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBudW1iZXIgb2YgdGFza3MgaW4gdGhlIHF1ZXVlLlxuICAgICAqL1xuICAgIHB1YmxpYyBzaXplKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvdW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlc3RzIGlmIHRoaXMgcHJpb3JpdHktcGFydGl0aW9uZWQgcXVldWUgaXMgZW1wdHkuXG4gICAgICovXG4gICAgcHVibGljIGlzRW1wdHkoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvdW50ID09PSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSB2YWx1ZSB0byB0aGlzIHByaW9yaXR5LXBhcnRpdGlvbmVkIHF1ZXVlLlxuICAgICAqL1xuICAgIHB1YmxpYyBlbnF1ZXVlKHZhbHVlOiBUKTogdm9pZCB7XG4gICAgICAgIGxldCBwcmlvcml0eSA9IHRoaXMuZ2V0UHJpb3JpdHkodmFsdWUpO1xuICAgICAgICBsZXQgc3ViUXVldWUgPSB0aGlzLnN1YlF1ZXVlcy5nZXRWYWx1ZShwcmlvcml0eSk7XG4gICAgICAgIGlmIChzdWJRdWV1ZS5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIHRoaXMucHJpb3JpdHlHZW4ubm90aWZ5UHJpb3JpdHlFeGlzdHMocHJpb3JpdHkpO1xuICAgICAgICB9XG4gICAgICAgIHN1YlF1ZXVlLmVucXVldWUodmFsdWUpO1xuICAgICAgICB0aGlzLmNvdW50Kys7XG4gICAgICAgIHRoaXMuc3ViUXVldWVzLnNldFZhbHVlKHByaW9yaXR5LCBzdWJRdWV1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVxdWV1ZXMgYW4gZWxlbWVudCBmcm9tIHRoaXMgcHJpb3JpdHktcGFydGl0aW9uZWQgcXVldWUuXG4gICAgICovXG4gICAgcHVibGljIGRlcXVldWUoKTogVCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGlmICh0aGlzLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFBpY2sgdGhlIG5leHQgbm9uLWVtcHR5IHN1Yi1xdWV1ZS5cbiAgICAgICAgbGV0IHN1YlF1ZXVlOiBDb2xsZWN0aW9ucy5RdWV1ZTxUPjtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgbGV0IHByaW9yaXR5ID0gdGhpcy5wcmlvcml0eUdlbi5uZXh0KCk7XG4gICAgICAgICAgICBzdWJRdWV1ZSA9IHRoaXMuc3ViUXVldWVzLmdldFZhbHVlKHByaW9yaXR5KTtcbiAgICAgICAgfSB3aGlsZSAoc3ViUXVldWUuaXNFbXB0eSgpKTtcblxuICAgICAgICAvLyBEZXF1ZXVlIGFuIGVsZW1lbnQgZnJvbSB0aGUgc3ViLXF1ZXVlLlxuICAgICAgICBsZXQgcmVzdWx0ID0gc3ViUXVldWUuZGVxdWV1ZSgpO1xuICAgICAgICB0aGlzLmNvdW50LS07XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG5cbi8qKlxuICogR2VuZXJhdGVzIHByaW9yaXRpZXMgYmFzZWQgb24gYSBtYXggcHJpb3JpdHkgYW5kIGEgbWluIHByaW9yaXR5LlxuICogSGlnaGVyIHByaW9yaXRpZXMgYXJlIHBpY2tlZCBtb3JlIG9mdGVuLlxuICovXG5leHBvcnQgY2xhc3MgUHJpb3JpdHlHZW5lcmF0b3Ige1xuICAgIC8vIFRoaXMgY2xhc3MgZ2VuZXJhdGVzIHByaW9yaXRpZXMgYnkgc2V0dGluZyBhIGZyb250aWVyIHZhbHVlLFxuICAgIC8vIGl0ZXJhdGluZyBmcm9tIHRoZSBoaWdoZXN0IHByaW9yaXR5IGFsbCB0aGUgd2F5IHRvIHRoYXRcbiAgICAvLyBmcm9udGllciBhbmQgdGhlbiBkZWNyZW1lbnRpbmcgdGhlIGZyb250aWVyLiBUaGlzIHByb2Nlc3NcbiAgICAvLyByZXBlYXRzIHVudGlsIHRoZSBmcm9udGllciByZWFjaGVzIHRoZSBsb3dlc3QgcHJpb3JpdHksIGF0XG4gICAgLy8gd2hpY2ggcG9pbnQgdGhlIGZyb250aWVyIGlzIHJlc2V0IHRvIHRoZSBoaWdoZXN0IHByaW9yaXR5IGFuZFxuICAgIC8vIHRoZSBnZW5lcmF0b3Igc3RhcnRzIGFsbCBvdmVyIGFnYWluLlxuICAgIC8vXG4gICAgLy8gRm9yIGV4YW1wbGUsIHN1cHBvc2UgdGhhdCB0aGUgbG93ZXN0IHByaW9yaXR5IGlzIC0yIGFuZCB0aGVcbiAgICAvLyBoaWdoZXN0IHByaW9yaXR5IGlzIDMuIFRoZW4gdGhlIHByaW9yaXR5IGdlbmVyYXRvciBwcm9kdWNlc1xuICAgIC8vIGEgc2VxdWVuY2Ugb2YgcHJpb3JpdGllcyBsaWtlIHNvOlxuICAgIC8vXG4gICAgLy8gSW5pdGlhbCBzdGF0ZSAoY2FyZXQgZGVub3RlcyBuZXh0IHZhbHVlLCBiYXIgZGVub3RlcyBmcm9udGllcilcbiAgICAvL1xuICAgIC8vICAgICAzICAyICAxICAwIC0xIC0yXG4gICAgLy8gICAgIF58XG4gICAgLy9cbiAgICAvLyBBZnRlciBmaXJzdCBgbmV4dCgpYDpcbiAgICAvL1xuICAgIC8vICAgICAzICAyICAxICAwIC0xIC0yXG4gICAgLy8gICAgIF4gICB8XG4gICAgLy9cbiAgICAvLyBBZnRlciBzZWNvbmQgYG5leHQoKWA6XG4gICAgLy9cbiAgICAvLyAgICAgMyAgMiAgMSAgMCAtMSAtMlxuICAgIC8vICAgICAgICBefFxuICAgIC8vXG4gICAgLy8gLi4uXG4gICAgLy9cbiAgICAvLyBUaGUgZ2VuZXJhdGVkIHNlcXVlbmNlIHdvdWxkIGJlXG4gICAgLy9cbiAgICAvLyAgICAgWzMsXG4gICAgLy8gICAgICAzLCAyLFxuICAgIC8vICAgICAgMywgMiwgMSxcbiAgICAvLyAgICAgIDMsIDIsIDEsIDAsXG4gICAgLy8gICAgICAzLCAyLCAxLCAwLCAtMSxcbiAgICAvLyAgICAgIDMsIDIsIDEsIDAsIC0xLCAtMl0uXG4gICAgLy9cbiAgICAvLyBDbGVhcmx5LCB0aGUgaGlnaGVzdCBwcmlvcml0eSBpcyBnZW5lcmF0ZWQgdGhlIG1vc3QuIEJ1dCB0aGVcbiAgICAvLyBsb3dlc3QgcHJpb3JpdHkgaXMgbm90IGVudGlyZWx5IG5lZ2xlY3RlZC4gTW9yZSBwcmVjaXNlbHksIHRoZVxuICAgIC8vIG51bWJlciBvZiB0aW1lcyB0aGF0IHRoZSBpdGggcHJpb3JpdHkgaXMgY2hvc2VuIHBlciBjeWNsZVxuICAgIC8vIGlzIGBpIC0gbWluICsgMWAuXG4gICAgLy9cbiAgICAvLyBDb25zZXF1ZW50bHksIHRoZSBsZW5ndGggb2YgYSBjeWNsZSBpc1xuICAgIC8vXG4gICAgLy8gICAgIHN1bV97aSA9IG1pbn1ee21heH0gKGkgLSBtaW4gKyAxKVxuICAgIC8vICAgICA9IHN1bV97aSA9IDF9XnttYXggLSBtaW4gKyAxfSBpXG4gICAgLy8gICAgID0gKG1heCAtIG1pbiArIDEpICogKG1heCAtIG1pbiArIDIpIC8gMi5cbiAgICAvL1xuICAgIC8vIEhlbmNlLCB0aGUgcmVsYXRpdmUgbnVtYmVyIG9mIHRpbWVzIHRoYXQgdGhlIGl0aCBwcmlvcml0eSBpc1xuICAgIC8vIGNob3NlbiBieSB0aGlzIGdlbmVyYXRvciBpc1xuICAgIC8vXG4gICAgLy8gICAgICAgICAgICAgMiAqIChpIC0gbWluICsgMSlcbiAgICAvLyAgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC5cbiAgICAvLyAgICAgKG1heCAtIG1pbiArIDEpICogKG1heCAtIG1pbiArIDIpXG5cbiAgICAvKipcbiAgICAgKiBUaGUgbG93ZXN0IHByaW9yaXR5LlxuICAgICAqL1xuICAgIHByaXZhdGUgbWluOiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGlnaGVzdCBwcmlvcml0eS5cbiAgICAgKi9cbiAgICBwcml2YXRlIG1heDogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG5leHQgcHJpb3JpdHkgdG8gcmV0dXJuLlxuICAgICAqL1xuICAgIHByaXZhdGUgY3VycmVudDogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHByaW9yaXR5IGF0IHdoaWNoIHRoZSBnZW5lcmF0b3IgcmV0dXJucyB0byB0aGUgaGlnaGVzdFxuICAgICAqIHByaW9yaXR5LlxuICAgICAqL1xuICAgIHByaXZhdGUgZnJvbnRpZXI6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBwcmlvcml0eSBnZW5lcmF0b3IuXG4gICAgICovXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm1pbiA9IDA7XG4gICAgICAgIHRoaXMubWF4ID0gMDtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gMDtcbiAgICAgICAgdGhpcy5mcm9udGllciA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTm90aWZpZXMgdGhlIHByaW9yaXR5IGdlbmVyYXRvciB0aGF0IGEgcGFydGljdWxhciBwcmlvcml0eSBleGlzdHMuXG4gICAgICogQHBhcmFtIHByaW9yaXR5IEEgcHJpb3JpdHkgdGhhdCB3aWxsIGJlIGluY2x1ZGVkIGluIHRoZSBwcmlvcml0aWVzXG4gICAgICogZ2VuZXJhdGVkIGJ5IHRoaXMgZ2VuZXJhdG9yLlxuICAgICAqL1xuICAgIHB1YmxpYyBub3RpZnlQcmlvcml0eUV4aXN0cyhwcmlvcml0eTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMubWluID0gTWF0aC5taW4odGhpcy5taW4sIHByaW9yaXR5KTtcblxuICAgICAgICBsZXQgb2xkTWF4ID0gdGhpcy5tYXg7XG4gICAgICAgIHRoaXMubWF4ID0gTWF0aC5tYXgodGhpcy5tYXgsIHByaW9yaXR5KTtcbiAgICAgICAgaWYgKG9sZE1heCAhPT0gdGhpcy5tYXgpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHRoaXMubWF4O1xuICAgICAgICAgICAgdGhpcy5mcm9udGllciA9IHRoaXMubWF4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIHRoZSBuZXh0IHByaW9yaXR5LlxuICAgICAqL1xuICAgIHB1YmxpYyBuZXh0KCk6IG51bWJlciB7XG4gICAgICAgIGxldCByZXN1bHQgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIGlmIChyZXN1bHQgPD0gdGhpcy5mcm9udGllcikge1xuICAgICAgICAgICAgdGhpcy5uZXh0RnJvbnRpZXIoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudC0tO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWR2YW5jZXMgdGhlIGZyb250aWVyIGFuZCBzZXRzIHRoZSBuZXh0IHByaW9yaXR5IHRvIHRoZVxuICAgICAqIG1heCBlbGVtZW50LlxuICAgICAqL1xuICAgIHByaXZhdGUgbmV4dEZyb250aWVyKCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5mcm9udGllciA+IHRoaXMubWluKSB7XG4gICAgICAgICAgICB0aGlzLmZyb250aWVyLS07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmZyb250aWVyID0gdGhpcy5tYXg7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy5tYXg7XG4gICAgfVxufVxuIl19
&nbsp;</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Tue Mar 27 2018 10:59:27 GMT+0000 (UTC)
</div>
</div>
<script src="../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../sorter.js"></script>
</body>
</html>
