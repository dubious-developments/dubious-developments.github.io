<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for src/entities/priorityPartitionedQueue.ts</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../prettify.css" />
    <link rel="stylesheet" href="../../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../../index.html">all files</a> / <a href="index.html">src/entities/</a> priorityPartitionedQueue.ts
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>61/61</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">90% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>9/10</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>14/14</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>59/59</span>
      </div>
    </div>
  </div>
  <div class='status-line high'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127</td><td class="line-coverage quiet"><span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-yes">41×</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">17×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">18×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">19×</span>
<span class="cline-any cline-yes">19×</span>
<span class="cline-any cline-yes">19×</span>
<span class="cline-any cline-yes">19×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">19×</span>
<span class="cline-any cline-yes">19×</span>
<span class="cline-any cline-yes">19×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">18×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">17×</span>
<span class="cline-any cline-yes">17×</span>
<span class="cline-any cline-yes">22×</span>
<span class="cline-any cline-yes">22×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">17×</span>
<span class="cline-any cline-yes">17×</span>
<span class="cline-any cline-yes">17×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">17×</span>
<span class="cline-any cline-yes">17×</span>
<span class="cline-any cline-yes">17×</span>
<span class="cline-any cline-yes">17×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">22×</span>
<span class="cline-any cline-yes">22×</span>
<span class="cline-any cline-yes">22×</span>
<span class="cline-any cline-yes">22×</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">84×</span>
<span class="cline-any cline-yes">84×</span>
<span class="cline-any cline-yes">50×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">34×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">84×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">50×</span>
<span class="cline-any cline-yes">15×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">35×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">50×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">(function(global){global.wrappers['/home/travis/build/jjocqu/UnSHACLed/src/entities/priorityPartitionedQueue.ts']=[function(require,module,exports,__dirname,__filename){ "use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Collections = require("typescript-collections");
/**
 * A sequence of queues that are combined in a single queue-like
 * data structure. Each sub-queue is tagged with its own priority
 * and higher-priority queues are preferred over low-priority queues
 * when dequeuing elements.
 */
var PriorityPartitionedQueue = /** @class */ (function () {
    /**
     * Creates a priority-partitioned queue.
     * @param getPriority A function that computes the priority of a value.
     */
    function PriorityPartitionedQueue(getPriority) {
        this.getPriority = getPriority;
        this.count = 0;
        this.subQueues = new Collections.DefaultDictionary(function () { return new Collections.Queue(); });
        this.priorityGen = new PriorityGenerator();
    }
    /**
     * Gets the number of tasks in the queue.
     */
    PriorityPartitionedQueue.prototype.size = function () {
        return this.count;
    };
    /**
     * Tests if this priority-partitioned queue is empty.
     */
    PriorityPartitionedQueue.prototype.isEmpty = function () {
        return this.count === 0;
    };
    /**
     * Adds a value to this priority-partitioned queue.
     */
    PriorityPartitionedQueue.prototype.enqueue = function (value) {
        var priority = this.getPriority(value);
        var subQueue = this.subQueues.getValue(priority);
        <span class="missing-if-branch" title="else path not taken" >E</span>if (subQueue.isEmpty()) {
            this.priorityGen.notifyPriorityExists(priority);
        }
        subQueue.enqueue(value);
        this.count++;
        this.subQueues.setValue(priority, subQueue);
    };
    /**
     * Dequeues an element from this priority-partitioned queue.
     */
    PriorityPartitionedQueue.prototype.dequeue = function () {
        if (this.isEmpty()) {
            return undefined;
        }
        // Pick the next non-empty sub-queue.
        var subQueue;
        do {
            var priority = this.priorityGen.next();
            subQueue = this.subQueues.getValue(priority);
        } while (subQueue.isEmpty());
        // Dequeue an element from the sub-queue.
        var result = subQueue.dequeue();
        this.count--;
        return result;
    };
    return PriorityPartitionedQueue;
}());
exports.PriorityPartitionedQueue = PriorityPartitionedQueue;
/**
 * Generates priorities based on a max priority and a min priority.
 * Higher priorities are picked more often.
 */
var PriorityGenerator = /** @class */ (function () {
    /**
     * Creates a priority generator.
     */
    function PriorityGenerator() {
        this.min = 0;
        this.max = 0;
        this.current = 0;
        this.frontier = 0;
    }
    /**
     * Notifies the priority generator that a particular priority exists.
     * @param priority A priority that will be included in the priorities
     * generated by this generator.
     */
    PriorityGenerator.prototype.notifyPriorityExists = function (priority) {
        this.min = Math.min(this.min, priority);
        var oldMax = this.max;
        this.max = Math.max(this.max, priority);
        if (oldMax !== this.max) {
            this.current = this.max;
            this.frontier = this.max;
        }
    };
    /**
     * Generates the next priority.
     */
    PriorityGenerator.prototype.next = function () {
        var result = this.current;
        if (result &lt;= this.frontier) {
            this.nextFrontier();
        }
        else {
            this.current--;
        }
        return result;
    };
    /**
     * Advances the frontier and sets the next priority to the
     * max element.
     */
    PriorityGenerator.prototype.nextFrontier = function () {
        if (this.frontier &gt; this.min) {
            this.frontier--;
        }
        else {
            this.frontier = this.max;
        }
        this.current = this.max;
    };
    return PriorityGenerator;
}());
exports.PriorityGenerator = PriorityGenerator;
&nbsp;
},'src/entities/priorityPartitionedQueue.ts',{"typescript-collections":"/home/travis/build/jjocqu/UnSHACLed/node_modules/typescript-collections/dist/lib/index.js","./taskQueue":"/home/travis/build/jjocqu/UnSHACLed/src/entities/taskQueue.ts"}];})(this);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJpb3JpdHlQYXJ0aXRpb25lZFF1ZXVlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsicHJpb3JpdHlQYXJ0aXRpb25lZFF1ZXVlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsb0RBQXNEO0FBR3REOzs7OztHQUtHO0FBQ0g7SUFpQkk7OztPQUdHO0lBQ0gsa0NBQ29CLFdBQWlDO1FBQWpDLGdCQUFXLEdBQVgsV0FBVyxDQUFzQjtRQUVqRCxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztRQUNmLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxXQUFXLENBQUMsaUJBQWlCLENBQzlDLGNBQU0sT0FBQSxJQUFJLFdBQVcsQ0FBQyxLQUFLLEVBQUssRUFBMUIsQ0FBMEIsQ0FBQyxDQUFDO1FBQ3RDLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxpQkFBaUIsRUFBRSxDQUFDO0lBQy9DLENBQUM7SUFFRDs7T0FFRztJQUNJLHVDQUFJLEdBQVg7UUFDSSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDdEIsQ0FBQztJQUVEOztPQUVHO0lBQ0ksMENBQU8sR0FBZDtRQUNJLE9BQU8sSUFBSSxDQUFDLEtBQUssS0FBSyxDQUFDLENBQUM7SUFDNUIsQ0FBQztJQUVEOztPQUVHO0lBQ0ksMENBQU8sR0FBZCxVQUFlLEtBQVE7UUFDbkIsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN2QyxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNqRCxJQUFJLFFBQVEsQ0FBQyxPQUFPLEVBQUUsRUFBRTtZQUNwQixJQUFJLENBQUMsV0FBVyxDQUFDLG9CQUFvQixDQUFDLFFBQVEsQ0FBQyxDQUFDO1NBQ25EO1FBQ0QsUUFBUSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN4QixJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDYixJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDaEQsQ0FBQztJQUVEOztPQUVHO0lBQ0ksMENBQU8sR0FBZDtRQUNJLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRSxFQUFFO1lBQ2hCLE9BQU8sU0FBUyxDQUFDO1NBQ3BCO1FBRUQscUNBQXFDO1FBQ3JDLElBQUksUUFBOEIsQ0FBQztRQUNuQyxHQUFHO1lBQ0MsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUN2QyxRQUFRLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7U0FDaEQsUUFBUSxRQUFRLENBQUMsT0FBTyxFQUFFLEVBQUU7UUFFN0IseUNBQXlDO1FBQ3pDLElBQUksTUFBTSxHQUFHLFFBQVEsQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUNoQyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7UUFFYixPQUFPLE1BQU0sQ0FBQztJQUNsQixDQUFDO0lBQ0wsK0JBQUM7QUFBRCxDQUFDLEFBL0VELElBK0VDO0FBL0VZLDREQUF3QjtBQWlGckM7OztHQUdHO0FBQ0g7SUE2RUk7O09BRUc7SUFDSDtRQUNJLElBQUksQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDO1FBQ2IsSUFBSSxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUM7UUFDYixJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQztRQUNqQixJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQztJQUN0QixDQUFDO0lBRUQ7Ozs7T0FJRztJQUNJLGdEQUFvQixHQUEzQixVQUE0QixRQUFnQjtRQUN4QyxJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxRQUFRLENBQUMsQ0FBQztRQUV4QyxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDO1FBQ3RCLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQ3hDLElBQUksTUFBTSxLQUFLLElBQUksQ0FBQyxHQUFHLEVBQUU7WUFDckIsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDO1lBQ3hCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQztTQUM1QjtJQUNMLENBQUM7SUFFRDs7T0FFRztJQUNJLGdDQUFJLEdBQVg7UUFDSSxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDO1FBQzFCLElBQUksTUFBTSxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDekIsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1NBQ3ZCO2FBQU07WUFDSCxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7U0FDbEI7UUFDRCxPQUFPLE1BQU0sQ0FBQztJQUNsQixDQUFDO0lBRUQ7OztPQUdHO0lBQ0ssd0NBQVksR0FBcEI7UUFDSSxJQUFJLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRTtZQUMxQixJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7U0FDbkI7YUFBTTtZQUNILElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQztTQUM1QjtRQUNELElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQztJQUM1QixDQUFDO0lBQ0wsd0JBQUM7QUFBRCxDQUFDLEFBaElELElBZ0lDO0FBaElZLDhDQUFpQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIENvbGxlY3Rpb25zIGZyb20gXCJ0eXBlc2NyaXB0LWNvbGxlY3Rpb25zXCI7XG5pbXBvcnQgeyBUYXNrUXVldWUgfSBmcm9tIFwiLi90YXNrUXVldWVcIjtcblxuLyoqXG4gKiBBIHNlcXVlbmNlIG9mIHF1ZXVlcyB0aGF0IGFyZSBjb21iaW5lZCBpbiBhIHNpbmdsZSBxdWV1ZS1saWtlXG4gKiBkYXRhIHN0cnVjdHVyZS4gRWFjaCBzdWItcXVldWUgaXMgdGFnZ2VkIHdpdGggaXRzIG93biBwcmlvcml0eVxuICogYW5kIGhpZ2hlci1wcmlvcml0eSBxdWV1ZXMgYXJlIHByZWZlcnJlZCBvdmVyIGxvdy1wcmlvcml0eSBxdWV1ZXNcbiAqIHdoZW4gZGVxdWV1aW5nIGVsZW1lbnRzLlxuICovXG5leHBvcnQgY2xhc3MgUHJpb3JpdHlQYXJ0aXRpb25lZFF1ZXVlPFQ+IGltcGxlbWVudHMgVGFza1F1ZXVlPFQ+IHtcbiAgICAvKipcbiAgICAgKiBUaGUgc3ViLXF1ZXVlcyBpbiB0aGlzIHByaW9yaXR5LXBhcnRpdGlvbmVkIHF1ZXVlLiBFYWNoIHN1YnF1ZXVlXG4gICAgICogaXMgaW5kZXhlZCBieSBpdHMgcHJpb3JpdHkuXG4gICAgICovXG4gICAgcHJpdmF0ZSBzdWJRdWV1ZXM6IENvbGxlY3Rpb25zLkRlZmF1bHREaWN0aW9uYXJ5PG51bWJlciwgQ29sbGVjdGlvbnMuUXVldWU8VD4+O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRvdGFsIG51bWJlciBvZiBlbGVtZW50cyBpbiB0aGUgc3ViLXF1ZXVlcy5cbiAgICAgKi9cbiAgICBwcml2YXRlIGNvdW50OiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBBIGdlbmVyYXRvciB0aGF0IGNob29zZXMgd2hpY2ggc3ViLXF1ZXVlIGlzIHNlcnZpY2VkLlxuICAgICAqL1xuICAgIHByaXZhdGUgcHJpb3JpdHlHZW46IFByaW9yaXR5R2VuZXJhdG9yO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHByaW9yaXR5LXBhcnRpdGlvbmVkIHF1ZXVlLlxuICAgICAqIEBwYXJhbSBnZXRQcmlvcml0eSBBIGZ1bmN0aW9uIHRoYXQgY29tcHV0ZXMgdGhlIHByaW9yaXR5IG9mIGEgdmFsdWUuXG4gICAgICovXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgcmVhZG9ubHkgZ2V0UHJpb3JpdHk6ICh2YWx1ZTogVCkgPT4gbnVtYmVyKSB7XG5cbiAgICAgICAgdGhpcy5jb3VudCA9IDA7XG4gICAgICAgIHRoaXMuc3ViUXVldWVzID0gbmV3IENvbGxlY3Rpb25zLkRlZmF1bHREaWN0aW9uYXJ5PG51bWJlciwgQ29sbGVjdGlvbnMuUXVldWU8VD4+KFxuICAgICAgICAgICAgKCkgPT4gbmV3IENvbGxlY3Rpb25zLlF1ZXVlPFQ+KCkpO1xuICAgICAgICB0aGlzLnByaW9yaXR5R2VuID0gbmV3IFByaW9yaXR5R2VuZXJhdG9yKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbnVtYmVyIG9mIHRhc2tzIGluIHRoZSBxdWV1ZS5cbiAgICAgKi9cbiAgICBwdWJsaWMgc2l6ZSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5jb3VudDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUZXN0cyBpZiB0aGlzIHByaW9yaXR5LXBhcnRpdGlvbmVkIHF1ZXVlIGlzIGVtcHR5LlxuICAgICAqL1xuICAgIHB1YmxpYyBpc0VtcHR5KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5jb3VudCA9PT0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgdmFsdWUgdG8gdGhpcyBwcmlvcml0eS1wYXJ0aXRpb25lZCBxdWV1ZS5cbiAgICAgKi9cbiAgICBwdWJsaWMgZW5xdWV1ZSh2YWx1ZTogVCk6IHZvaWQge1xuICAgICAgICBsZXQgcHJpb3JpdHkgPSB0aGlzLmdldFByaW9yaXR5KHZhbHVlKTtcbiAgICAgICAgbGV0IHN1YlF1ZXVlID0gdGhpcy5zdWJRdWV1ZXMuZ2V0VmFsdWUocHJpb3JpdHkpO1xuICAgICAgICBpZiAoc3ViUXVldWUuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICB0aGlzLnByaW9yaXR5R2VuLm5vdGlmeVByaW9yaXR5RXhpc3RzKHByaW9yaXR5KTtcbiAgICAgICAgfVxuICAgICAgICBzdWJRdWV1ZS5lbnF1ZXVlKHZhbHVlKTtcbiAgICAgICAgdGhpcy5jb3VudCsrO1xuICAgICAgICB0aGlzLnN1YlF1ZXVlcy5zZXRWYWx1ZShwcmlvcml0eSwgc3ViUXVldWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlcXVldWVzIGFuIGVsZW1lbnQgZnJvbSB0aGlzIHByaW9yaXR5LXBhcnRpdGlvbmVkIHF1ZXVlLlxuICAgICAqL1xuICAgIHB1YmxpYyBkZXF1ZXVlKCk6IFQgfCB1bmRlZmluZWQge1xuICAgICAgICBpZiAodGhpcy5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQaWNrIHRoZSBuZXh0IG5vbi1lbXB0eSBzdWItcXVldWUuXG4gICAgICAgIGxldCBzdWJRdWV1ZTogQ29sbGVjdGlvbnMuUXVldWU8VD47XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGxldCBwcmlvcml0eSA9IHRoaXMucHJpb3JpdHlHZW4ubmV4dCgpO1xuICAgICAgICAgICAgc3ViUXVldWUgPSB0aGlzLnN1YlF1ZXVlcy5nZXRWYWx1ZShwcmlvcml0eSk7XG4gICAgICAgIH0gd2hpbGUgKHN1YlF1ZXVlLmlzRW1wdHkoKSk7XG5cbiAgICAgICAgLy8gRGVxdWV1ZSBhbiBlbGVtZW50IGZyb20gdGhlIHN1Yi1xdWV1ZS5cbiAgICAgICAgbGV0IHJlc3VsdCA9IHN1YlF1ZXVlLmRlcXVldWUoKTtcbiAgICAgICAgdGhpcy5jb3VudC0tO1xuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuXG4vKipcbiAqIEdlbmVyYXRlcyBwcmlvcml0aWVzIGJhc2VkIG9uIGEgbWF4IHByaW9yaXR5IGFuZCBhIG1pbiBwcmlvcml0eS5cbiAqIEhpZ2hlciBwcmlvcml0aWVzIGFyZSBwaWNrZWQgbW9yZSBvZnRlbi5cbiAqL1xuZXhwb3J0IGNsYXNzIFByaW9yaXR5R2VuZXJhdG9yIHtcbiAgICAvLyBUaGlzIGNsYXNzIGdlbmVyYXRlcyBwcmlvcml0aWVzIGJ5IHNldHRpbmcgYSBmcm9udGllciB2YWx1ZSxcbiAgICAvLyBpdGVyYXRpbmcgZnJvbSB0aGUgaGlnaGVzdCBwcmlvcml0eSBhbGwgdGhlIHdheSB0byB0aGF0XG4gICAgLy8gZnJvbnRpZXIgYW5kIHRoZW4gZGVjcmVtZW50aW5nIHRoZSBmcm9udGllci4gVGhpcyBwcm9jZXNzXG4gICAgLy8gcmVwZWF0cyB1bnRpbCB0aGUgZnJvbnRpZXIgcmVhY2hlcyB0aGUgbG93ZXN0IHByaW9yaXR5LCBhdFxuICAgIC8vIHdoaWNoIHBvaW50IHRoZSBmcm9udGllciBpcyByZXNldCB0byB0aGUgaGlnaGVzdCBwcmlvcml0eSBhbmRcbiAgICAvLyB0aGUgZ2VuZXJhdG9yIHN0YXJ0cyBhbGwgb3ZlciBhZ2Fpbi5cbiAgICAvL1xuICAgIC8vIEZvciBleGFtcGxlLCBzdXBwb3NlIHRoYXQgdGhlIGxvd2VzdCBwcmlvcml0eSBpcyAtMiBhbmQgdGhlXG4gICAgLy8gaGlnaGVzdCBwcmlvcml0eSBpcyAzLiBUaGVuIHRoZSBwcmlvcml0eSBnZW5lcmF0b3IgcHJvZHVjZXNcbiAgICAvLyBhIHNlcXVlbmNlIG9mIHByaW9yaXRpZXMgbGlrZSBzbzpcbiAgICAvL1xuICAgIC8vIEluaXRpYWwgc3RhdGUgKGNhcmV0IGRlbm90ZXMgbmV4dCB2YWx1ZSwgYmFyIGRlbm90ZXMgZnJvbnRpZXIpXG4gICAgLy9cbiAgICAvLyAgICAgMyAgMiAgMSAgMCAtMSAtMlxuICAgIC8vICAgICBefFxuICAgIC8vXG4gICAgLy8gQWZ0ZXIgZmlyc3QgYG5leHQoKWA6XG4gICAgLy9cbiAgICAvLyAgICAgMyAgMiAgMSAgMCAtMSAtMlxuICAgIC8vICAgICBeICAgfFxuICAgIC8vXG4gICAgLy8gQWZ0ZXIgc2Vjb25kIGBuZXh0KClgOlxuICAgIC8vXG4gICAgLy8gICAgIDMgIDIgIDEgIDAgLTEgLTJcbiAgICAvLyAgICAgICAgXnxcbiAgICAvL1xuICAgIC8vIC4uLlxuICAgIC8vXG4gICAgLy8gVGhlIGdlbmVyYXRlZCBzZXF1ZW5jZSB3b3VsZCBiZVxuICAgIC8vXG4gICAgLy8gICAgIFszLFxuICAgIC8vICAgICAgMywgMixcbiAgICAvLyAgICAgIDMsIDIsIDEsXG4gICAgLy8gICAgICAzLCAyLCAxLCAwLFxuICAgIC8vICAgICAgMywgMiwgMSwgMCwgLTEsXG4gICAgLy8gICAgICAzLCAyLCAxLCAwLCAtMSwgLTJdLlxuICAgIC8vXG4gICAgLy8gQ2xlYXJseSwgdGhlIGhpZ2hlc3QgcHJpb3JpdHkgaXMgZ2VuZXJhdGVkIHRoZSBtb3N0LiBCdXQgdGhlXG4gICAgLy8gbG93ZXN0IHByaW9yaXR5IGlzIG5vdCBlbnRpcmVseSBuZWdsZWN0ZWQuIE1vcmUgcHJlY2lzZWx5LCB0aGVcbiAgICAvLyBudW1iZXIgb2YgdGltZXMgdGhhdCB0aGUgaXRoIHByaW9yaXR5IGlzIGNob3NlbiBwZXIgY3ljbGVcbiAgICAvLyBpcyBgaSAtIG1pbiArIDFgLlxuICAgIC8vXG4gICAgLy8gQ29uc2VxdWVudGx5LCB0aGUgbGVuZ3RoIG9mIGEgY3ljbGUgaXNcbiAgICAvL1xuICAgIC8vICAgICBzdW1fe2kgPSBtaW59XnttYXh9IChpIC0gbWluICsgMSlcbiAgICAvLyAgICAgPSBzdW1fe2kgPSAxfV57bWF4IC0gbWluICsgMX0gaVxuICAgIC8vICAgICA9IChtYXggLSBtaW4gKyAxKSAqIChtYXggLSBtaW4gKyAyKSAvIDIuXG4gICAgLy9cbiAgICAvLyBIZW5jZSwgdGhlIHJlbGF0aXZlIG51bWJlciBvZiB0aW1lcyB0aGF0IHRoZSBpdGggcHJpb3JpdHkgaXNcbiAgICAvLyBjaG9zZW4gYnkgdGhpcyBnZW5lcmF0b3IgaXNcbiAgICAvL1xuICAgIC8vICAgICAgICAgICAgIDIgKiAoaSAtIG1pbiArIDEpXG4gICAgLy8gICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAuXG4gICAgLy8gICAgIChtYXggLSBtaW4gKyAxKSAqIChtYXggLSBtaW4gKyAyKVxuXG4gICAgLyoqXG4gICAgICogVGhlIGxvd2VzdCBwcmlvcml0eS5cbiAgICAgKi9cbiAgICBwcml2YXRlIG1pbjogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGhpZ2hlc3QgcHJpb3JpdHkuXG4gICAgICovXG4gICAgcHJpdmF0ZSBtYXg6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBuZXh0IHByaW9yaXR5IHRvIHJldHVybi5cbiAgICAgKi9cbiAgICBwcml2YXRlIGN1cnJlbnQ6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBwcmlvcml0eSBhdCB3aGljaCB0aGUgZ2VuZXJhdG9yIHJldHVybnMgdG8gdGhlIGhpZ2hlc3RcbiAgICAgKiBwcmlvcml0eS5cbiAgICAgKi9cbiAgICBwcml2YXRlIGZyb250aWVyOiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcHJpb3JpdHkgZ2VuZXJhdG9yLlxuICAgICAqL1xuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5taW4gPSAwO1xuICAgICAgICB0aGlzLm1heCA9IDA7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IDA7XG4gICAgICAgIHRoaXMuZnJvbnRpZXIgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE5vdGlmaWVzIHRoZSBwcmlvcml0eSBnZW5lcmF0b3IgdGhhdCBhIHBhcnRpY3VsYXIgcHJpb3JpdHkgZXhpc3RzLlxuICAgICAqIEBwYXJhbSBwcmlvcml0eSBBIHByaW9yaXR5IHRoYXQgd2lsbCBiZSBpbmNsdWRlZCBpbiB0aGUgcHJpb3JpdGllc1xuICAgICAqIGdlbmVyYXRlZCBieSB0aGlzIGdlbmVyYXRvci5cbiAgICAgKi9cbiAgICBwdWJsaWMgbm90aWZ5UHJpb3JpdHlFeGlzdHMocHJpb3JpdHk6IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0aGlzLm1pbiA9IE1hdGgubWluKHRoaXMubWluLCBwcmlvcml0eSk7XG5cbiAgICAgICAgbGV0IG9sZE1heCA9IHRoaXMubWF4O1xuICAgICAgICB0aGlzLm1heCA9IE1hdGgubWF4KHRoaXMubWF4LCBwcmlvcml0eSk7XG4gICAgICAgIGlmIChvbGRNYXggIT09IHRoaXMubWF4KSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLm1heDtcbiAgICAgICAgICAgIHRoaXMuZnJvbnRpZXIgPSB0aGlzLm1heDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyB0aGUgbmV4dCBwcmlvcml0eS5cbiAgICAgKi9cbiAgICBwdWJsaWMgbmV4dCgpOiBudW1iZXIge1xuICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcy5jdXJyZW50O1xuICAgICAgICBpZiAocmVzdWx0IDw9IHRoaXMuZnJvbnRpZXIpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dEZyb250aWVyKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQtLTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkdmFuY2VzIHRoZSBmcm9udGllciBhbmQgc2V0cyB0aGUgbmV4dCBwcmlvcml0eSB0byB0aGVcbiAgICAgKiBtYXggZWxlbWVudC5cbiAgICAgKi9cbiAgICBwcml2YXRlIG5leHRGcm9udGllcigpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuZnJvbnRpZXIgPiB0aGlzLm1pbikge1xuICAgICAgICAgICAgdGhpcy5mcm9udGllci0tO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5mcm9udGllciA9IHRoaXMubWF4O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHRoaXMubWF4O1xuICAgIH1cbn1cbiJdfQ==
&nbsp;</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Wed Apr 04 2018 12:46:08 GMT+0000 (UTC)
</div>
</div>
<script src="../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../sorter.js"></script>
</body>
</html>
