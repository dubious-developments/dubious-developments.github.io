<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for src/entities/priorityPartitionedQueue.ts</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../prettify.css" />
    <link rel="stylesheet" href="../../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../../index.html">all files</a> / <a href="index.html">src/entities/</a> priorityPartitionedQueue.ts
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>60/60</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">83.33% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>10/12</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>13/13</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>58/58</span>
      </div>
    </div>
  </div>
  <div class='status-line high'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123</td><td class="line-coverage quiet"><span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">11×</span>
<span class="cline-any cline-yes">11×</span>
<span class="cline-any cline-yes">30×</span>
<span class="cline-any cline-yes">11×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">26×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">15×</span>
<span class="cline-any cline-yes">15×</span>
<span class="cline-any cline-yes">15×</span>
<span class="cline-any cline-yes">15×</span>
<span class="cline-any cline-yes">15×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">15×</span>
<span class="cline-any cline-yes">15×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">13×</span>
<span class="cline-any cline-yes">13×</span>
<span class="cline-any cline-yes">15×</span>
<span class="cline-any cline-yes">15×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">13×</span>
<span class="cline-any cline-yes">13×</span>
<span class="cline-any cline-yes">13×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">13×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">18×</span>
<span class="cline-any cline-yes">18×</span>
<span class="cline-any cline-yes">18×</span>
<span class="cline-any cline-yes">18×</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">77×</span>
<span class="cline-any cline-yes">77×</span>
<span class="cline-any cline-yes">45×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">32×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">77×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">45×</span>
<span class="cline-any cline-yes">13×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">32×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">45×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">(function(global){global.wrappers['/home/travis/build/jonathanvdc/UnSHACLed/src/entities/priorityPartitionedQueue.ts']=[function(require,module,exports,__dirname,__filename){ "use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Collections = require("typescript-collections");
/**
 * A sequence of queues that are combined in a single queue-like
 * data structure. Each sub-queue is tagged with its own priority
 * and higher-priority queues are preferred over low-priority queues
 * when dequeuing elements.
 */
var PriorityPartitionedQueue = /** @class */ (function () {
    /**
     * Creates a priority-partitioned queue.
     * @param getPriority A function that computes the priority of a value.
     */
    function PriorityPartitionedQueue(getPriority) {
        this.getPriority = getPriority;
        this.nonEmptySubQueueCount = 0;
        this.subQueues = new Collections.DefaultDictionary(function () { return new Collections.Queue(); });
        this.priorityGen = new PriorityGenerator();
    }
    /**
     * Tests if this priority-partitioned queue is empty.
     */
    PriorityPartitionedQueue.prototype.isEmpty = function () {
        return this.nonEmptySubQueueCount === 0;
    };
    /**
     * Adds a value to this priority-partitioned queue.
     */
    PriorityPartitionedQueue.prototype.enqueue = function (value) {
        var priority = this.getPriority(value);
        var subQueue = this.subQueues.getValue(priority);
        <span class="missing-if-branch" title="else path not taken" >E</span>if (subQueue.isEmpty()) {
            this.nonEmptySubQueueCount++;
            this.priorityGen.notifyPriorityExists(priority);
        }
        subQueue.enqueue(value);
        this.subQueues.setValue(priority, subQueue);
    };
    /**
     * Dequeues an element from this priority-partitioned queue.
     */
    PriorityPartitionedQueue.prototype.dequeue = function () {
        if (this.isEmpty()) {
            return undefined;
        }
        // Pick the next non-empty sub-queue.
        var subQueue;
        do {
            var priority = this.priorityGen.next();
            subQueue = this.subQueues.getValue(priority);
        } while (subQueue.isEmpty());
        // Dequeue an element from the sub-queue.
        var result = subQueue.dequeue();
        <span class="missing-if-branch" title="else path not taken" >E</span>if (subQueue.isEmpty()) {
            this.nonEmptySubQueueCount--;
        }
        return result;
    };
    return PriorityPartitionedQueue;
}());
exports.PriorityPartitionedQueue = PriorityPartitionedQueue;
/**
 * Generates priorities based on a max priority and a min priority.
 * Higher priorities are picked more often.
 */
var PriorityGenerator = /** @class */ (function () {
    /**
     * Creates a priority generator.
     */
    function PriorityGenerator() {
        this.min = 0;
        this.max = 0;
        this.current = 0;
        this.frontier = 0;
    }
    /**
     * Notifies the priority generator that a particular priority exists.
     * @param priority A priority that will be included in the priorities
     * generated by this generator.
     */
    PriorityGenerator.prototype.notifyPriorityExists = function (priority) {
        this.min = Math.min(this.min, priority);
        var oldMax = this.max;
        this.max = Math.max(this.max, priority);
        if (oldMax !== this.max) {
            this.current = this.max;
            this.frontier = this.max;
        }
    };
    /**
     * Generates the next priority.
     */
    PriorityGenerator.prototype.next = function () {
        var result = this.current;
        if (result &lt;= this.frontier) {
            this.nextFrontier();
        }
        else {
            this.current--;
        }
        return result;
    };
    /**
     * Advances the frontier and sets the next priority to the
     * max element.
     */
    PriorityGenerator.prototype.nextFrontier = function () {
        if (this.frontier &gt; this.min) {
            this.frontier--;
        }
        else {
            this.frontier = this.max;
        }
        this.current = this.max;
    };
    return PriorityGenerator;
}());
exports.PriorityGenerator = PriorityGenerator;
&nbsp;
},'src/entities/priorityPartitionedQueue.ts',{"typescript-collections":"/home/travis/build/jonathanvdc/UnSHACLed/node_modules/typescript-collections/dist/lib/index.js","./taskQueue":"/home/travis/build/jonathanvdc/UnSHACLed/src/entities/taskQueue.ts"}];})(this);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJpb3JpdHlQYXJ0aXRpb25lZFF1ZXVlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsicHJpb3JpdHlQYXJ0aXRpb25lZFF1ZXVlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsb0RBQXNEO0FBR3REOzs7OztHQUtHO0FBQ0g7SUFpQkk7OztPQUdHO0lBQ0gsa0NBQ29CLFdBQWlDO1FBQWpDLGdCQUFXLEdBQVgsV0FBVyxDQUFzQjtRQUVqRCxJQUFJLENBQUMscUJBQXFCLEdBQUcsQ0FBQyxDQUFDO1FBQy9CLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxXQUFXLENBQUMsaUJBQWlCLENBQzlDLGNBQU0sT0FBQSxJQUFJLFdBQVcsQ0FBQyxLQUFLLEVBQUssRUFBMUIsQ0FBMEIsQ0FBQyxDQUFDO1FBQ3RDLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxpQkFBaUIsRUFBRSxDQUFDO0lBQy9DLENBQUM7SUFFRDs7T0FFRztJQUNJLDBDQUFPLEdBQWQ7UUFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLHFCQUFxQixLQUFLLENBQUMsQ0FBQztJQUM1QyxDQUFDO0lBRUQ7O09BRUc7SUFDSSwwQ0FBTyxHQUFkLFVBQWUsS0FBUTtRQUNuQixJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3ZDLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ2pELEVBQUUsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDckIsSUFBSSxDQUFDLHFCQUFxQixFQUFFLENBQUM7WUFDN0IsSUFBSSxDQUFDLFdBQVcsQ0FBQyxvQkFBb0IsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNwRCxDQUFDO1FBQ0QsUUFBUSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN4QixJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEs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QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIENvbGxlY3Rpb25zIGZyb20gXCJ0eXBlc2NyaXB0LWNvbGxlY3Rpb25zXCI7XG5pbXBvcnQgeyBUYXNrUXVldWUgfSBmcm9tIFwiLi90YXNrUXVldWVcIjtcblxuLyoqXG4gKiBBIHNlcXVlbmNlIG9mIHF1ZXVlcyB0aGF0IGFyZSBjb21iaW5lZCBpbiBhIHNpbmdsZSBxdWV1ZS1saWtlXG4gKiBkYXRhIHN0cnVjdHVyZS4gRWFjaCBzdWItcXVldWUgaXMgdGFnZ2VkIHdpdGggaXRzIG93biBwcmlvcml0eVxuICogYW5kIGhpZ2hlci1wcmlvcml0eSBxdWV1ZXMgYXJlIHByZWZlcnJlZCBvdmVyIGxvdy1wcmlvcml0eSBxdWV1ZXNcbiAqIHdoZW4gZGVxdWV1aW5nIGVsZW1lbnRzLlxuICovXG5leHBvcnQgY2xhc3MgUHJpb3JpdHlQYXJ0aXRpb25lZFF1ZXVlPFQ+IGltcGxlbWVudHMgVGFza1F1ZXVlPFQ+IHtcbiAgICAvKipcbiAgICAgKiBUaGUgc3ViLXF1ZXVlcyBpbiB0aGlzIHByaW9yaXR5LXBhcnRpdGlvbmVkIHF1ZXVlLiBFYWNoIHN1YnF1ZXVlXG4gICAgICogaXMgaW5kZXhlZCBieSBpdHMgcHJpb3JpdHkuXG4gICAgICovXG4gICAgcHJpdmF0ZSBzdWJRdWV1ZXM6IENvbGxlY3Rpb25zLkRlZmF1bHREaWN0aW9uYXJ5PG51bWJlciwgQ29sbGVjdGlvbnMuUXVldWU8VD4+O1xuXG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBub24tZW1wdHkgc3ViLXF1ZXVlcy5cbiAgICAgKi9cbiAgICBwcml2YXRlIG5vbkVtcHR5U3ViUXVldWVDb3VudDogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogQSBnZW5lcmF0b3IgdGhhdCBjaG9vc2VzIHdoaWNoIHN1Yi1xdWV1ZSBpcyBzZXJ2aWNlZC5cbiAgICAgKi9cbiAgICBwcml2YXRlIHByaW9yaXR5R2VuOiBQcmlvcml0eUdlbmVyYXRvcjtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBwcmlvcml0eS1wYXJ0aXRpb25lZCBxdWV1ZS5cbiAgICAgKiBAcGFyYW0gZ2V0UHJpb3JpdHkgQSBmdW5jdGlvbiB0aGF0IGNvbXB1dGVzIHRoZSBwcmlvcml0eSBvZiBhIHZhbHVlLlxuICAgICAqL1xuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIHJlYWRvbmx5IGdldFByaW9yaXR5OiAodmFsdWU6IFQpID0+IG51bWJlcikge1xuXG4gICAgICAgIHRoaXMubm9uRW1wdHlTdWJRdWV1ZUNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5zdWJRdWV1ZXMgPSBuZXcgQ29sbGVjdGlvbnMuRGVmYXVsdERpY3Rpb25hcnk8bnVtYmVyLCBDb2xsZWN0aW9ucy5RdWV1ZTxUPj4oXG4gICAgICAgICAgICAoKSA9PiBuZXcgQ29sbGVjdGlvbnMuUXVldWU8VD4oKSk7XG4gICAgICAgIHRoaXMucHJpb3JpdHlHZW4gPSBuZXcgUHJpb3JpdHlHZW5lcmF0b3IoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUZXN0cyBpZiB0aGlzIHByaW9yaXR5LXBhcnRpdGlvbmVkIHF1ZXVlIGlzIGVtcHR5LlxuICAgICAqL1xuICAgIHB1YmxpYyBpc0VtcHR5KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5ub25FbXB0eVN1YlF1ZXVlQ291bnQgPT09IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIHZhbHVlIHRvIHRoaXMgcHJpb3JpdHktcGFydGl0aW9uZWQgcXVldWUuXG4gICAgICovXG4gICAgcHVibGljIGVucXVldWUodmFsdWU6IFQpOiB2b2lkIHtcbiAgICAgICAgbGV0IHByaW9yaXR5ID0gdGhpcy5nZXRQcmlvcml0eSh2YWx1ZSk7XG4gICAgICAgIGxldCBzdWJRdWV1ZSA9IHRoaXMuc3ViUXVldWVzLmdldFZhbHVlKHByaW9yaXR5KTtcbiAgICAgICAgaWYgKHN1YlF1ZXVlLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgdGhpcy5ub25FbXB0eVN1YlF1ZXVlQ291bnQrKztcbiAgICAgICAgICAgIHRoaXMucHJpb3JpdHlHZW4ubm90aWZ5UHJpb3JpdHlFeGlzdHMocHJpb3JpdHkpO1xuICAgICAgICB9XG4gICAgICAgIHN1YlF1ZXVlLmVucXVldWUodmFsdWUpO1xuICAgICAgICB0aGlzLnN1YlF1ZXVlcy5zZXRWYWx1ZShwcmlvcml0eSwgc3ViUXVldWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlcXVldWVzIGFuIGVsZW1lbnQgZnJvbSB0aGlzIHByaW9yaXR5LXBhcnRpdGlvbmVkIHF1ZXVlLlxuICAgICAqL1xuICAgIHB1YmxpYyBkZXF1ZXVlKCk6IFQgfCB1bmRlZmluZWQge1xuICAgICAgICBpZiAodGhpcy5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQaWNrIHRoZSBuZXh0IG5vbi1lbXB0eSBzdWItcXVldWUuXG4gICAgICAgIGxldCBzdWJRdWV1ZTogQ29sbGVjdGlvbnMuUXVldWU8VD47XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGxldCBwcmlvcml0eSA9IHRoaXMucHJpb3JpdHlHZW4ubmV4dCgpO1xuICAgICAgICAgICAgc3ViUXVldWUgPSB0aGlzLnN1YlF1ZXVlcy5nZXRWYWx1ZShwcmlvcml0eSk7XG4gICAgICAgIH0gd2hpbGUgKHN1YlF1ZXVlLmlzRW1wdHkoKSk7XG5cbiAgICAgICAgLy8gRGVxdWV1ZSBhbiBlbGVtZW50IGZyb20gdGhlIHN1Yi1xdWV1ZS5cbiAgICAgICAgbGV0IHJlc3VsdCA9IHN1YlF1ZXVlLmRlcXVldWUoKTtcblxuICAgICAgICBpZiAoc3ViUXVldWUuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICB0aGlzLm5vbkVtcHR5U3ViUXVldWVDb3VudC0tO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG5cbi8qKlxuICogR2VuZXJhdGVzIHByaW9yaXRpZXMgYmFzZWQgb24gYSBtYXggcHJpb3JpdHkgYW5kIGEgbWluIHByaW9yaXR5LlxuICogSGlnaGVyIHByaW9yaXRpZXMgYXJlIHBpY2tlZCBtb3JlIG9mdGVuLlxuICovXG5leHBvcnQgY2xhc3MgUHJpb3JpdHlHZW5lcmF0b3Ige1xuICAgIC8vIFRoaXMgY2xhc3MgZ2VuZXJhdGVzIHByaW9yaXRpZXMgYnkgc2V0dGluZyBhIGZyb250aWVyIHZhbHVlLFxuICAgIC8vIGl0ZXJhdGluZyBmcm9tIHRoZSBoaWdoZXN0IHByaW9yaXR5IGFsbCB0aGUgd2F5IHRvIHRoYXRcbiAgICAvLyBmcm9udGllciBhbmQgdGhlbiBkZWNyZW1lbnRpbmcgdGhlIGZyb250aWVyLiBUaGlzIHByb2Nlc3NcbiAgICAvLyByZXBlYXRzIHVudGlsIHRoZSBmcm9udGllciByZWFjaGVzIHRoZSBsb3dlc3QgcHJpb3JpdHksIGF0XG4gICAgLy8gd2hpY2ggcG9pbnQgdGhlIGZyb250aWVyIGlzIHJlc2V0IHRvIHRoZSBoaWdoZXN0IHByaW9yaXR5IGFuZFxuICAgIC8vIHRoZSBnZW5lcmF0b3Igc3RhcnRzIGFsbCBvdmVyIGFnYWluLlxuICAgIC8vXG4gICAgLy8gRm9yIGV4YW1wbGUsIHN1cHBvc2UgdGhhdCB0aGUgbG93ZXN0IHByaW9yaXR5IGlzIC0yIGFuZCB0aGVcbiAgICAvLyBoaWdoZXN0IHByaW9yaXR5IGlzIDMuIFRoZW4gdGhlIHByaW9yaXR5IGdlbmVyYXRvciBwcm9kdWNlc1xuICAgIC8vIGEgc2VxdWVuY2Ugb2YgcHJpb3JpdGllcyBsaWtlIHNvOlxuICAgIC8vXG4gICAgLy8gSW5pdGlhbCBzdGF0ZSAoY2FyZXQgZGVub3RlcyBuZXh0IHZhbHVlLCBiYXIgZGVub3RlcyBmcm9udGllcilcbiAgICAvL1xuICAgIC8vICAgICAzICAyICAxICAwIC0xIC0yXG4gICAgLy8gICAgIF58XG4gICAgLy9cbiAgICAvLyBBZnRlciBmaXJzdCBgbmV4dCgpYDpcbiAgICAvL1xuICAgIC8vICAgICAzICAyICAxICAwIC0xIC0yXG4gICAgLy8gICAgIF4gICB8XG4gICAgLy9cbiAgICAvLyBBZnRlciBzZWNvbmQgYG5leHQoKWA6XG4gICAgLy9cbiAgICAvLyAgICAgMyAgMiAgMSAgMCAtMSAtMlxuICAgIC8vICAgICAgICBefFxuICAgIC8vXG4gICAgLy8gLi4uXG4gICAgLy9cbiAgICAvLyBUaGUgZ2VuZXJhdGVkIHNlcXVlbmNlIHdvdWxkIGJlXG4gICAgLy9cbiAgICAvLyAgICAgWzMsXG4gICAgLy8gICAgICAzLCAyLFxuICAgIC8vICAgICAgMywgMiwgMSxcbiAgICAvLyAgICAgIDMsIDIsIDEsIDAsXG4gICAgLy8gICAgICAzLCAyLCAxLCAwLCAtMSxcbiAgICAvLyAgICAgIDMsIDIsIDEsIDAsIC0xLCAtMl0uXG4gICAgLy9cbiAgICAvLyBDbGVhcmx5LCB0aGUgaGlnaGVzdCBwcmlvcml0eSBpcyBnZW5lcmF0ZWQgdGhlIG1vc3QuIEJ1dCB0aGVcbiAgICAvLyBsb3dlc3QgcHJpb3JpdHkgaXMgbm90IGVudGlyZWx5IG5lZ2xlY3RlZC4gTW9yZSBwcmVjaXNlbHksIHRoZVxuICAgIC8vIG51bWJlciBvZiB0aW1lcyB0aGF0IHRoZSBpdGggcHJpb3JpdHkgaXMgY2hvc2VuIHBlciBjeWNsZVxuICAgIC8vIGlzIGBpIC0gbWluICsgMWAuXG4gICAgLy9cbiAgICAvLyBDb25zZXF1ZW50bHksIHRoZSBsZW5ndGggb2YgYSBjeWNsZSBpc1xuICAgIC8vXG4gICAgLy8gICAgIHN1bV97aSA9IG1pbn1ee21heH0gKGkgLSBtaW4gKyAxKVxuICAgIC8vICAgICA9IHN1bV97aSA9IDF9XnttYXggLSBtaW4gKyAxfSBpXG4gICAgLy8gICAgID0gKG1heCAtIG1pbiArIDEpICogKG1heCAtIG1pbiArIDIpIC8gMi5cbiAgICAvL1xuICAgIC8vIEhlbmNlLCB0aGUgcmVsYXRpdmUgbnVtYmVyIG9mIHRpbWVzIHRoYXQgdGhlIGl0aCBwcmlvcml0eSBpc1xuICAgIC8vIGNob3NlbiBieSB0aGlzIGdlbmVyYXRvciBpc1xuICAgIC8vXG4gICAgLy8gICAgICAgICAgICAgMiAqIChpIC0gbWluICsgMSlcbiAgICAvLyAgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC5cbiAgICAvLyAgICAgKG1heCAtIG1pbiArIDEpICogKG1heCAtIG1pbiArIDIpXG5cbiAgICAvKipcbiAgICAgKiBUaGUgbG93ZXN0IHByaW9yaXR5LlxuICAgICAqL1xuICAgIHByaXZhdGUgbWluOiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGlnaGVzdCBwcmlvcml0eS5cbiAgICAgKi9cbiAgICBwcml2YXRlIG1heDogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG5leHQgcHJpb3JpdHkgdG8gcmV0dXJuLlxuICAgICAqL1xuICAgIHByaXZhdGUgY3VycmVudDogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHByaW9yaXR5IGF0IHdoaWNoIHRoZSBnZW5lcmF0b3IgcmV0dXJucyB0byB0aGUgaGlnaGVzdFxuICAgICAqIHByaW9yaXR5LlxuICAgICAqL1xuICAgIHByaXZhdGUgZnJvbnRpZXI6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBwcmlvcml0eSBnZW5lcmF0b3IuXG4gICAgICovXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm1pbiA9IDA7XG4gICAgICAgIHRoaXMubWF4ID0gMDtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gMDtcbiAgICAgICAgdGhpcy5mcm9udGllciA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTm90aWZpZXMgdGhlIHByaW9yaXR5IGdlbmVyYXRvciB0aGF0IGEgcGFydGljdWxhciBwcmlvcml0eSBleGlzdHMuXG4gICAgICogQHBhcmFtIHByaW9yaXR5IEEgcHJpb3JpdHkgdGhhdCB3aWxsIGJlIGluY2x1ZGVkIGluIHRoZSBwcmlvcml0aWVzXG4gICAgICogZ2VuZXJhdGVkIGJ5IHRoaXMgZ2VuZXJhdG9yLlxuICAgICAqL1xuICAgIHB1YmxpYyBub3RpZnlQcmlvcml0eUV4aXN0cyhwcmlvcml0eTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMubWluID0gTWF0aC5taW4odGhpcy5taW4sIHByaW9yaXR5KTtcblxuICAgICAgICBsZXQgb2xkTWF4ID0gdGhpcy5tYXg7XG4gICAgICAgIHRoaXMubWF4ID0gTWF0aC5tYXgodGhpcy5tYXgsIHByaW9yaXR5KTtcbiAgICAgICAgaWYgKG9sZE1heCAhPT0gdGhpcy5tYXgpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHRoaXMubWF4O1xuICAgICAgICAgICAgdGhpcy5mcm9udGllciA9IHRoaXMubWF4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIHRoZSBuZXh0IHByaW9yaXR5LlxuICAgICAqL1xuICAgIHB1YmxpYyBuZXh0KCk6IG51bWJlciB7XG4gICAgICAgIGxldCByZXN1bHQgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIGlmIChyZXN1bHQgPD0gdGhpcy5mcm9udGllcikge1xuICAgICAgICAgICAgdGhpcy5uZXh0RnJvbnRpZXIoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudC0tO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWR2YW5jZXMgdGhlIGZyb250aWVyIGFuZCBzZXRzIHRoZSBuZXh0IHByaW9yaXR5IHRvIHRoZVxuICAgICAqIG1heCBlbGVtZW50LlxuICAgICAqL1xuICAgIHByaXZhdGUgbmV4dEZyb250aWVyKCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5mcm9udGllciA+IHRoaXMubWluKSB7XG4gICAgICAgICAgICB0aGlzLmZyb250aWVyLS07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmZyb250aWVyID0gdGhpcy5tYXg7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy5tYXg7XG4gICAgfVxufVxuIl19
&nbsp;</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Sat Mar 24 2018 14:02:12 GMT+0000 (UTC)
</div>
</div>
<script src="../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../sorter.js"></script>
</body>
</html>
